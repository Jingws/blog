### é˜²æŠ– debounce

åœ¨äº‹ä»¶è§¦å‘ n ç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨ n ç§’å†…å†æ¬¡è§¦å‘äº‹ä»¶ï¼Œåˆ™é‡æ–°è®°æ—¶

ä¸¾ä¸ªğŸŒ°
```js
// æ¨¡æ‹Ÿä¸€ä¸ªajaxè¯·æ±‚
function ajax(content) {
  console.log('ajax request ' + content)
}

let ipt1 = document.getElementById('ipt1')

ipt1.addEventListener('keyup', function(e) {
  ajax(e.target.value)
})
```
ä»¥ä¸Šè¿™ä¸ªğŸŒ°ä¸­ï¼Œæ¯æ¬¡è§¦å‘äº‹ä»¶éƒ½ä¼šæ‰§è¡Œå›è°ƒï¼Œè¿™æ ·çš„æ“ä½œå°±ä¼šé€ æˆèµ„æºçš„æµªè´¹ï¼Œä¸‹é¢æ¥çœ‹ä¸€ä¸ª debounce å‡½æ•°

```js
// æ¨¡æ‹Ÿä¸€ä¸ªajaxè¯·æ±‚
function ajax(content) {
  console.log('ajax request' + content)
}

function debounce(fun, delay) {
  return function(args) {
    let that = this
    let _args = args
    // æ¸…é™¤å®šæ—¶å™¨
    clearTimeout(fun.timeout)
    fun.timeout = setTimeout(function() {
      fun.call(that, _args)
    }, delay)
  }
}

let debounceAjax = debounce(ajax, 500)

let ipt1 = document.getElementById('ipt1')

ipt1.addEventListener('keyup', function(e) {
  debounceAjax(e.target.value)
})
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé¢‘ç¹çš„è¾“å…¥æ“ä½œå¹¶ä¸ä¼šè§¦å‘å›è°ƒï¼Œåªæœ‰å½“è¾“å…¥ç»“æŸåçš„ n ç§’åï¼Œæ‰ä¼šè§¦å‘ï¼Œåœ¨ n ç§’å†…å†æ¬¡è¾“å…¥åˆ™ä¼šé‡æ–°è®°æ—¶

_**å‡½æ•°é˜²æŠ–å°±æ˜¯æ³•å¸ˆå‘æŠ€èƒ½çš„æ—¶å€™è¦è¯»æ¡ (å¯’å†°ç®­)ï¼ŒæŠ€èƒ½è¯»æ¡æ²¡å®Œå†æŒ‰æŠ€èƒ½å°±ä¼šé‡æ–°è¯»æ¡ã€‚**_

### æˆªæµ throttle

è§„å®šåœ¨ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…è§¦å‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚
ä¸‹é¢æ˜¯ throttle å‡½æ•°ğŸŒ°
```js
// æ¨¡æ‹Ÿä¸€ä¸ªajaxè¯·æ±‚
function ajax(content) {
  console.log('ajax request' + content)
}

function throttle(fun, delay) {
  let last,
      deferTimer
  return function(args) {
    let that = this
    let _args = args
    let now = +new Date()
    // å¦‚æœ ä¸Šæ¬¡è§¦å‘æ—¶é—´åŠ å»¶è¿Ÿå¤§äºäº†å½“å‰æ—¶é—´ é‡æ–°è®°æ—¶
    if (last && now < last + delay) {
      console.log('è®¾ç½®æ—¶é—´å†…ï¼Œä¸æ‰§è¡Œå‡½æ•°')
      clearTimeout(deferTimer)
      deferTimer = setTimeout(function () {
          last = now
          fun.call(that, _args)
      }, delay)
    } else {
      console.log('åˆ°è¾¾è®¾ç½®æ—¶é—´ï¼Œæ‰§è¡Œ')
      last = now
      fun.call(that,_args)
    }
  }
}
```
å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸Šé¢è¿™ä¸ªå‡½æ•°ä¸­ï¼Œä¸æ–­è§¦å‘äº‹ä»¶ï¼Œä¹Ÿæ˜¯æŒ‰ç…§ç»™å®šçš„æ—¶é—´é—´æ–­æ‰§è¡Œ

_**å‡½æ•°èŠ‚æµå°±æ˜¯fpsæ¸¸æˆçš„å°„é€Ÿï¼Œå°±ç®—ä¸€ç›´æŒ‰ç€é¼ æ ‡å°„å‡»ï¼Œä¹Ÿåªä¼šåœ¨è§„å®šå°„é€Ÿå†…å°„å‡ºå­å¼¹ã€‚**_

#### ç»“åˆåº”ç”¨åœºæ™¯
* debounce
  * æœç´¢è”æƒ³
* throttle
  * é¡µé¢æ»šåŠ¨çš„ç›‘å¬äº‹ä»¶ï¼Œé¼ æ ‡æ»‘åŠ¨çš„ç›‘å¬äº‹ä»¶ç­‰

å‚è€ƒ [æ˜é‡‘ 7åˆ†é’Ÿç†è§£JSçš„èŠ‚æµã€é˜²æŠ–åŠä½¿ç”¨åœºæ™¯](https://juejin.im/post/5b8de829f265da43623c4261)
